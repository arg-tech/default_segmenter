info:
  name: Basic post
  type: http
  seq: 2

http:
  method: POST
  url: "{{baseUrl}}/segmenter-01"
  body:
    type: multipart-form
    data:
      - name: file
        type: file
        value:
          - input files/basic_input.json
  auth: inherit

runtime:
  scripts:
    - type: tests
      code: |-
        const expectedData = {
          "AIF": {
            "edges": [],
            "locutions": [
              {
                "nodeID": "2",
                "personID": null
              },
              {
                "nodeID": "3",
                "personID": null
              }
            ],
            "nodes": [
              {
                "nodeID": "2",
                "text": "The SNP is a big party.",
                "type": "L"
              },
              {
                "nodeID": "3",
                "text": "There are many disagreements within it.",
                "type": "L"
              }
            ],
            "participants": []
          }
        };
        const maxTimeToReturnInMilliseconds = 300;

          test("Response should match expected value", function () {
            const receivedData = res.getBody();
            expect(receivedData).to.deep.equal(expectedData)
          });
          
          test(`Response time should be faster than ${maxTimeToReturnInMilliseconds} milliseconds`, function () {
            expect(res.responseTime).to.be.below(maxTimeToReturnInMilliseconds);
          });

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5
